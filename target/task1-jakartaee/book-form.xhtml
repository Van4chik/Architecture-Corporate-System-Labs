<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">
<h:head>
    <title>Книга</title>
</h:head>

<h:body>

<f:metadata>
    <f:viewParam name="id" value="#{bookBean.id}" />
    <f:viewAction action="#{bookBean.load}" />
</f:metadata>

<h2>Книга</h2>

<h:form>
    <h:panelGrid columns="2" cellpadding="6">

        <h:outputLabel value="Название:"/>
        <h:inputText value="#{bookBean.form.title}" required="true"/>

        <h:outputLabel value="ISBN:"/>
        <h:inputText value="#{bookBean.form.isbn}"/>

        <h:outputLabel value="Год публикации:"/>
        <h:inputText value="#{bookBean.form.publishedYear}"/>

        <h:outputLabel value="Цена:"/>
        <h:inputText value="#{bookBean.form.price}"/>

        <h:outputLabel value="Автор:"/>
        <h:selectOneMenu value="#{bookBean.authorId}" required="true">
            <f:selectItem itemLabel="-- выбери автора --" itemValue="#{null}"/>
            <f:selectItems value="#{bookBean.authors}" var="a" itemValue="#{a.id}" itemLabel="#{a.fullName}"/>
        </h:selectOneMenu>

    </h:panelGrid>

    <br/>
    <h:commandButton value="Сохранить" action="#{bookBean.save()}"/>
    <h:link value="Назад" outcome="books.xhtml" style="margin-left:10px;"/>
</h:form>

</h:body>
</html>
